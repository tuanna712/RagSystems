import json
from openai import OpenAI

def create_question(prompt, apikey):
    system = "You are an VPI - an AI assistant developed by Vietnam Petroleum Institue that helps people find information."
    client = OpenAI(api_key=apikey)
    completion = client.chat.completions.create(
    model="gpt-3.5-turbo-1106",
    messages=[
        {"role": "system", "content": system},
        {"role": "user", "content": prompt}
    ],
    temperature=0,
    max_tokens=2000,
    top_p=0.95,
    frequency_penalty=0,
    presence_penalty=0,
    stream=False,
    )
    return completion.choices[0].message.content

EVAL_TEXTS = [
    "Bố cục báo cáo “Tổng hợp, hệ thống hóa và đánh giá các kết quả nghiên cứu tiềm năng dầu khí đã thực hiện ở bể Sông Hồng” gồm 5 chương (không bao gồm phần mở đầu và phụ lục): Chương 1. Tổng quan về bể trầm tích Sông Hồng. Chương 2. Tổng kết công tác nghiên cứu địa chất-địa vật lý khu vực bể Sông Hồng. Chương 3. Đặc điểm cấu kiến tạo, phân vùng cấu trúc và địa tầng trầm tích. Chương 4. Địa chất và tiềm năng dầu khí. Chương 5. Kết luận và kiến nghị",
    "Bể Sông Hồng nằm trong khoảng 106º9’44” ÷ 110º0’18” kinh độ Đông, 14o0’ ÷ 21o30’ vĩ độ Bắc. Tổng diện tích của cả bể khoảng 220.000km2, trong đó phần đất liền miền võng Hà Nội và biển nông ven bờ chiếm khoảng 4000km2. Bể có dạng hình thoi chạy dài từ vùng biển Vịnh Bắc Bộ thuộc các tỉnh từ Quảng Ninh đến Bình Định. Dọc phía Tây bể là các đá móng lộ thiên Mesozoi – Paleozoi thuộc đất liền Việt Nam, phía Đông – Bắc là bể Tây Lôi Châu (Beibu wan basin), phía Đông là móng lộ thiên Mesozoi – Paleozoi đảo Hải Nam, Đông - Nam là bể Đông Tri Tôn và đới phân dị Hoàng Sa, Phía Nam giáp bể trầm tích Phú Khánh. Khu vực nghiên cứu của đề tài từ lô 101 đến hết lô 120 năm ở ngoài khơi bể Sông Hồng.",
    "Công tác thăm dò địa chấn. Trước năm 1980 hầu như chưa có hoạt động tìm kiếm thăm dò ở ngoài khơi bể Sông Hồng ngoại trừ các lô từ 117-121 ở phía Nam bể Sông Hồng. Năm 1974 chính quyền Sài Gòn cũ cho công ty dầu khí quốc tế tiến hành tìm kiếm thăm dò dầu khí ở vùng ngoài khơi Nam Trung Bộ, Việt Nam. Hai mạng lưới địa chấn khu vực bao gồm: WA74-pkb và WA-74-shv đã được tiến hành thu nổ từ vùng biển miền Trung, Ninh Thuận tới các đảo Hoàng Tử Anh, Hoàng Tử Em khu vực quần đảo Hoàng Sa. Các khảo sát địa chấn 2D này có mạng lưới rất thưa, 35 x 40km và 40 x 60km. Công việc khảo sát bị chấm dứt khi miền Nam được giải phóng, đất nước ta thống nhất năm 1975.",
    "Tại Lô 102-106 nhà thầu PCOSB đã tiến hành khoan 06 giếng trên các cấu tạo Thái Bình (đối tượng: Trầm tích Mioxen - Oligoxen, Lô 102), Yên Tử, Hạ Long, Hàm Rồng và Đồ Sơn trong giai đoạn 2001-2009. GK 102-TB-1X sâu 2.900m, thử vỉa đã nhận được dòng khí - condensate và khí khô với lưu lượng lớn từ các vỉa cát tại khoảng chiều sâu 980 – 1.750m thuộc Mioxen Giữa - Dưới (Bảng 1.2). GK 106-YT-1X (2004) sâu 1.967m tại cấu tạo Yên Tử đã phát hiện dấu hiệu dầu thô tại chiều sâu 1317m (trong Mioxen Giữa) lấy được 3.125 ml dầu thô và 4,5m3 (160 bộ khối) khí. Giếng đã khoan vào 350m Móng đá vôi với hiện tượng mất dung dịch rất lớn, có biểu hiện dầu khí theo tài liệu địa vật lý GK, nhưng kết quả thử vỉa cho lượng H2S cao (2.000 ppm) nên bắt buộc phải đóng giếng.",
    "Năm 2002-2007 VGP JOC đã tiến hành khoan 2 giếng 113-BD-1X và 113-BV-1X thuộc lô 113 trong chương trình cam kết của pha 1 tìm kiếm thăm dò, trong đó phát hiện khí Báo Vàng năm 2007 là một bước tiến mới hoạt động TKTD phần trung tâm bể Sông Hồng với tổng cộng 2 vỉa khí được thử với lưu lượng 415.000m3/ngđ, tỷ lệ khí CO2 gần như bằng 0. Pha 2 và pha 3 lần lượt khoan các giếng khoan 111-BV-2X, 113-BV-3X, 111-BV4X, 113-BV-5X, 113-BD-2X. Các kết quả thử vỉa cho thấy cấu tạo Báo Vàng có lưu lượng khí tương đối tốt nhưng vẫn có giếng bắt gặp CO2, cấu tạo Báo Đen, Báo Trắng cho dòng kém và hàm lượng CO2 cao.",
    "Bảng 1.2 Tổng kết các giếng khoan thăm dò khu vực bể Sông Hồng \n Tên giếng	Nhà thầu	Năm khoan	TD(mMD)	Đối tượng	Kết quả\n 107-PL-1X	PVEP POC	2013	4050    Móng	Móng & Miocen & Oligocen	Giếng khoan khô. Biểu hiện dầu khí trong móng carbonat và biểu hiện khí trong cát kết Miocene (U170)\n 106/10-HRD-1X	PVEP	2014	4038    Móng	Móng & Oligocen & Miocen	Biểu hiên dầu khí tốt trong cát kết Oligocen và móng carbonat. Kết quả thử vỉa trong Oligocene cho dòng 30.5 mmscf/d và condensat 2391 bbl/d (H2S 8500ppm, CO2: 9%) và trong Móng carbonat cho dòng khí 13.7 mmscf/d và condensat 895 bbl/d (H2S: 7000ppm, CO2:10%)",
    "1.1.1.	Khu vực phía Bắc bể Sông Hồng\n 1.1.1.1.	Đặc điểm tài liệu địa chấn\n Khu vực phía bắc Bể tính đến lô 104 hiện có 13 khảo sát với tổng số gần 35000 km tuyến địa chấn 2D đã được thu nổ và xử lý cùng với khoảng 8000 km2 của 13 khảo sát địa chấn 3D như trên Hình 2.2. Ngoài ra trên Miền Võng Hà Nội, do được thu nổ từ những năm 60 của thế kỉ trước nên độ sâu nghiên cứu không lớn, chất lượng tài liệu địa chấn kém chỉ quan sát được các mặt phản xạ từ nóc Miocen dưới trở lên. Các lô còn lại trong khu vực bể có chất lượng tài liệu địa chấn từ kém đến khá tốt, ở những khảo sát chất lượng tốt có thể quan sát được các mặt phản xạ dưới sâu (Hình 2.3 đến Hình 2.5). Tài liệu địa chấn thu nổ theo công nghệ mới như khảo sát PVN-15 có độ phân giải cao hơn, tuy nhiên bề mặt móng và các đứt gãy sâu ở khu vực trung tâm của đới nghịch đảo Miocen vẫn không quan sát được.",
    "1.1.1.2.	Minh giải tài liệu địa chấn\nTùy theo định nghĩa của các nhà thầu mà có nhiều quan điểm về minh giải các mặt phản xạ chính trong khu vực phía Bắc bể Sông Hồng. Hiện trạng minh giải tài liệu địa chấn khu vực phía Bắc đã được các nhà thầu, PVEP và Viện Dầu khí minh giải khá chi tiết dựa theo các mặt phản xạ mang tính khu vực. Các nhà thầu như Total, Idemitsu, PCOSB, PVEP ở khu vực Trũng Trung tâm và Đông Bắc đứt gãy Sông Lô định nghĩa theo các mặt bất chỉnh hợp (U), còn khu vực trũng Hạ Mai theo nhà thầu Santos, PIDC định nghĩa theo thời gian (T):\n-	Móng trước Đệ tam: U500\n-	Nóc tầng Oligocen: U300 – T20. Theo quan điểm trước đây nóc tầng Oligocen tương ứng với tầng T31. Sau khi cập nhật liên kết minh giải toàn khu vực phía Bắc thì T20 hợp lý với minh giải U300 ở khu vực Đông Bắc đứt gãy Sông Lô nhất.\n-	Nóc tầng Miocen dưới: U260 – T15. Trước đây T20 được cho là nóc tầng Miocen dưới tuy nhiên sau khi cập nhật đã thay đổi, T15 tương ứng với U260 là nóc tầng Miocen dưới.\n-	Các bất chỉnh hợp nội tầng trong Miocen giữa: U200, U210, U220, U240\n-	Nóc tầng Miocen giữa: U170 – T10\n-	Bất chỉnh hợp nội tầng Miocen trên: U150\n-	Nóc tầng Miocen trên: U100 – T5",
    "Dựa vào các ranh giới địa tầng phân định được trong các giếng khoan, các đặc trưng phản xạ địa chấn mang tính khu vực giữa các tập địa chấn và các đặc trưng phản xạ bên trong tập địa chấn (Bảng 2.12 và Bảng 2.13). Các mặt phản xạ đã được minh giải trên toàn bể bao gồm:\n-	Nóc móng trước Đệ tam\n-	Nóc tầng Oliogcen\n-	Nóc tầng Miocen dưới\n-	Nóc tầng Miocen giữa\n-	Nội tầng 1, 2 trong Miocen trên\n-	Nóc tầng Miocen trên\n-	Nội tầng 1, 2, 3 trong Pliocen\n-	Nóc tầng Pliocen\n-	Bề mặt đáy biển",
    "Nhìn chung, tài liệu được sử dụng có chất lượng trung bình đến tốt. Trên đới nâng Tri Tôn, chất lượng tín hiệu phản xạ của các tập trầm tích từ nóc carbonat trở lên khá rõ ràng, tuy nhiên tín hiệu phản xạ từ nóc carbonat trở xuống còn kém nên việc minh giải tầng Oligocen và Móng còn nhiều rủi ro (Hình 2.17). Đặc biệt khu vực mỏ Cá Voi Xanh có rất nhiều khí nông nên tín hiệu các mặt phản xạ bên dưới khí nông thường không rõ ràng. Ngoài ra vẫn còn độ lệch pha giữa tài liệu địa chấn 2D và địa chấn 3D, do đó để minh giải và liên kết ra xung quanh cần hiệu chỉnh độ lệch giữa các loại tài liệu.",
    "Sáu mặt ranh giới phản xạ địa chấn chính đã được xác định để minh giải và liên kết với 6 ranh giới địa tầng chính theo thứ tự từ dưới lên trên là: nóc Móng trước Đệ tam, nóc Oligocen, nóc Miocen (dưới, giữa, trên), nóc Pliocen (Hình 2.20 và Hình 2.21). Bên cạnh 6 mặt phản xạ chính có thể liên kết trong toàn khu vực nghiên cứu, các minh giải mặt phản xạ nội tầng chỉ liên kết được trên một diện tích hẹp hơn tại mỗi khu vực, cụ thể như sau:\n-	Đối với khu vực phía Bắc bể Sông Hồng có thể phân chia chi tiết hơn tập trầm tích Oligocen thành hai phụ tập; các mặt phản xạ nội tầng Miocen được minh giải rất chi tiết;\n-	Khu vực trung tâm bể có thể xác định được 5 mặt ranh giới nội tầng phân chia tập trầm tích Pliocen thành 3 phụ tập và tập trầm tích Miocen trên thành 4 phụ tập;\n-	Khu vực phía Nam có thể xác định 2 mặt ranh giới nội tầng Miocen trên. Tuy nhiên, diện tích minh giải khá nhỏ xung quanh lô 117, 118.",
    "Các vấn đề còn tồn tại và kiến nghị\nTrải qua hơn 40 năm hoạt động TKTD trên khu vực bể Sông Hồng, nguồn tài liệu địa vật lý được bổ sung cập nhật nhiều hơn, chất lượng tài liệu được cải thiện nhờ sự phát triển của công nghệ. Tuy nhiên, các vấn đề còn tồn tại về mặt tài liệu địa chấn ở bể Sông Hồng có thể tóm tắt như sau:\n-	Hoạt động TKTD (công tác thu nổ địa chấn) không đồng đều giữa các lô trong từng vùng nên mức độ chi tiết, chính xác của số liệu để phân tích đánh giá tiềm năng dầu khí chịu sự rủi ro khác nhau và chưa đồng bộ. Cơ sở dữ liệu của Viện dầu khí hiện tại còn thiếu tài liệu địa chấn 2D khu vực lô 115 và 116, tài liệu AW74 khu vực phía Đông các lô 117, 118 còn chưa chính xác shotpoint.\n-	Các tài liệu địa chấn thu nổ trước năm 1990 đều có chất lượng xấu đến trung bình nên dùng để liên kết các tập địa chấn là khá khó khăn. Các tài liệu địa chấn được thu nổ và xử lý gần đây như PVN-12, PVN-15 đã giúp việc minh giải, liên kết đặc biệt là phần dưới sâu được rõ ràng và có độ tin cậy cao hơn.\n-	Các bản đồ xây dựng thiếu sự liên kết thống nhất giữa các lô cả về khối lượng và chất lượng. Tính kết nối giữa ranh giới địa tầng và ranh giới phản xạ địa chấn nhiều chỗ còn mâu thuẫn giữa các nhà thầu. Đặc biệt phần Trung tâm bể Sông Hồng, bề dày trầm tích rất dày nên khoảng cách giữa các tầng phản xạ chính rất lớn lên đến hàng nghìn mét.\n-	Việc nghiên cứu địa tầng phân tập tổng thể cho lát cắt trầm tích đồng tách giãn trong khu vực Bắc bể Sông Hồng còn rời rạc. Chưa có minh giải địa chấn địa tầng khu vực Trung tâm và phía Nam bể phục vụ nghiên cứu môi trường trầm tích và tìm kiếm thăm dò chi tiết. Do vậy, chưa đánh giá đặc điểm hệ thống dầu khí đối với lát cắt đồng tách giãn trong khu vực một cách bài bản và khoa học, đặc biệt là đặc trưng và phân bố cũng như mức độ biến đổi của của tầng sinh và chứa dầu khí.",
    "2.2 Công tác khảo sát địa vật lý giếng khoan\nĐến thời điểm hiện tại đã có gần 60 giếng khoan TKTD được thực hiện ở khu vực bể Sông Hồng, với tổng số trên 138598 m chiều sâu giếng khoan qua các đối tượng trầm tích lục nguyên, carbonat, móng granit từ hệ tầng Pliocen-Q đến móng. Công tác khảo sát địa vật lý trong giếng khoan đã được tiến hành bằng nhiều công nghệ tiên tiến theo từng giai đoạn về thu, ghi và chương trình minh giải cho tất cả các giếng khoan đã góp phần không nhỏ cho sự thành công của các phát hiện dầu khí trong khu vực.",
    "Trước năm 2000\nKhảo sát ĐVLGK trong giai đoạn này đã góp phần quan trọng trong việc nghiên cứu, giải quyết các nhiệm vụ TKTD dầu khí tại bể Sông Hồng, cụ thể là: \n•	Xác định và phân loại đá bằng tổ hợp các đường cong địa vật lý khác nhau;\n•	Xác định các tầng chuẩn, liên kết địa tầng (đặc biệt là đối với khu vực đứt gãy nghịch) dựa trên kết quả phân tích tổ hợp các đường cong ĐVLGK;\n•	Xác định môi trường cổ địa lý tướng đá thông qua kết quả minh giải đường cong gamma hoặc điện thế tự nhiên; \n•	Xác định một cách định tính và định lượng các tham số chứa phục vụ cho việc đánh giá đá chứa và tính toán tiềm năng, trữ lượng tại chỗ của các cấu tạo và các mỏ;\n•	Xác định các tầng chắn;\n•	Dự báo chế độ địa nhiệt;",
    "Bảng 3.1. Các nghiên cứu về cấu trúc – kiến tạo đã thực hiện ở bể Sông Hồng.\nTT	Đề tài	Tác giả	Năm thực hiện	Kết quả thực hiện\n4	Nghiên cứu cấu trúc nghịch đảo kiến tạo trong trầm tích Miocen và Oligocen lô 102&106	PVEP-ITC	2016	•	Nghiên cứu đặc điểm hình thái của các cấu trúc nghịch đảo Miocen, và Oligocen trong khu vực lô 102&106 •	Khôi phục lịch sử phát triển của các cấu tạo nghịch đảo của trầm tích Miocene- Oligocene •	Đánh giá sự ảnh hưởng của hoạt động kiến tạo đến sự hình thành và phá hủy các bẫy nghịch đảo kiến tạo trong khu vực lô 102/10 & 106/10",
    "3.1.2.1	Các nghiên cứu về địa tầng và môi trường trầm tích từ tài liệu cổ sinh \nNghiên cứu sinh địa tầng ở bể Sông Hồng bắt đầu thực hiện từ năm 1990. Tính đến nay tổng cộng có 55 giếng khoan đã phân tích, chủ yếu thực hiện trong giai đoạn 2007-2017 (38 giếng) (Hình 3.5). Tên các giếng khoan, độ sâu phân tích, các nhóm hóa thạch phân tích, số lượng mẫu… được trình bày chi tiết trong Bảng 3.2. \nHình 3.5 Số lượng giếng khoan phân tích sinh địa tầng qua các năm ở bể Sông Hồng \nTrong tổng số 55 giếng khoan, phân tích sinh địa tầng tập trung nhiều nhất ở các lô 106 (7 giếng), 113 (7 giếng) và 103 (6 giếng), ít phân tích ở các lô 101 (1 giếng khoan), 105-110 (1 giếng), 114 (2 giếng) 115 (1 giếng), 119 (1 giếng) và không phân tích ở lô 116 và 117 (Hình 3.6). Có thể thấy các phân tích tập trung nhiều ở khu vực phía bắc và rất ít ở khu vực phía nam bể.",
    "Hệ tầng Tri Tôn (N12 tt) nằm chỉnh hợp trên hệ tầng Sông Hương. Tại GK 119 - CH -1X gặp đá vôi màu xám sáng, xám nâu, xám sẫm xen kẽ với đá bùn (mudstone), đá wak (wackstone), đá pack (packstone) chứa rong tảo, trùng lỗ kích thước lớn và san hô. Đá carbonat có nguồn gốc hóa sinh lắng đọng trong môi trường khác nhau với kiến trúc từ hạt vi tinh, hạt nhỏ đến ẩn tinh, ít nơi tái kết tinh; cấu trúc thường dạng khối, ít phân lớp, độ rỗng và độ thấm rất tốt. Bề dày của hệ tầng ở giếng khoan này là 711 m.",
    "Các bào tử phấn hoa với sự phong phú của Dacrydium và FAD của Stenochlaena laurifolia cùng với LAD của Fl. Trilobata đã giúp xác định tuổi Miocen muộn, mặt khác các Foram và các Nannoplankton cũng thuộc các đới tuổi Miocen muộn (Discoaster quinqueramus NN10 - NN11).\nHệ tầng Quảng Ngãi được thành tạo trong môi trường đồng bằng ven biển, biển nông, thềm và biển sâu.",
    "5.1.2.1.	Đặc điểm đá mẹ\nĐá mẹ Oligocen\nMẫu trầm tích Oligocen bắt gặp duy nhất tại lô 102 và GK 107 PV-BAL-1X, phần lớn các mẫu sét có giá từ nghèo đến trung bình trong đó mẫu tại 107 PV-BAL-1X nghèo VCHC (TOC<0,5%; S2<2mg/g). Các mẫu than/sét than có hàm lượng giàu VCHC, giá trị TOC rất cao (TOCtb từ 30,8% đến 95%). Đá mẹ chứa chủ yếu kerogen loại III, tiềm năng chính sinh khí (Hình 5.12).",
    "Đá chứa cát kết Oligocen\nNgoài ra đối tượng cát kết Oligocen cũng gặp ở một số GK như 107-BAL-1X và 102-TB-1X (Hình 5.18). Tuy nhiên, đá chứa loại này chặt xít với độ rỗng <10% do nằm sâu dưới 3200m. Kết quả thử vỉa ở GK 107-BAL-1X không cho dòng hydrocarbon. Cát kết Miocen trên và Pliocen cũng gặp trong đới với chiều dày vỉa mỏng xen kẹp sét (2-8m) và có khả năng chứa tốt: 20-33% rỗng, tuy nhiên không phải là đối tượng để thử vỉa trong các giai đoạn trước.\nBên cạnh đó, các đối tượng Móng carbonat cũng được quan tâm tại khu vực MVHN02. Trong đó CR-1X và DV-1X dự kiến gặp đá móng carbonat nhưng không gặp mà gặp đá móng biến chất ở chặt xít ở CR-1X và Dolomite từ 5-10% độ rỗng ở DV. Đá chứa cát kết Oligocen có chiều dày từ 1-2m đến 10-15m/20-30m với độ rỗng 6% ở DV và 11% ở CR. Đá chứa cát kết Miocen dưới, giữa, trên chất lượng chứa từ trung bình đến tốt (17-40%), chiều dày từ khoảng 4-5m đến 20m, không phải là đối tượng để tiến hành thử vỉa. Ngoài ra, đá chứa Miocen trên cũng bắt gặp ở Lotus với độ rỗng 12%, thử vỉa cho lưu lượng nhỏ được 438 m3 khí/ngày và CO2 lên tới 65%.",
    "5.3.2.5.	Tiềm năng dầu khí\nTính đến thời điểm hiện tại khu vực đới Bạch Long Vĩ có 6 giếng khoan tìm kiếm thăm dò (Bảng 1.2). Đối tượng của các giếng khoan thăm dò trong khu vực nghiên cứu là đá Móng carbonat nứt nẻ trước Đệ Tam và cát kết Oligocen. 2 giếng khoan thuộc trũng Hạ Mai Weizhou 14-2.1 và Weizhou 14-2.2 do phía Trung Quốc khoan (CNOOC) năm 1991 vào đối tượng cát kết Miocen và Oligocen, tuy nhiên chỉ có giếng khoan Weizhou 14-2.1 phát hiện 7.5m cát chứa khí trong Oligocen với kết quả thử vỉa cho dòng 15mmscf/d (DST#4). Hai giếng khoan 101-HM-X và 101-CB-1X do Santos và Salamander khoan cũng có phát hiện khí trong cát kết Oligocen, tuy nhiên trữ lượng của các phát hiện nhỏ. Các giếng khoan còn lại 107T-PA-1X và Enreca 3 không có phát hiện dầu khí. ",
    "5.6.2	Đặc điểm hệ thống dầu khí\n5.6.2.1.	Đặc điểm đá mẹ\nĐá mẹ Oligocen\nĐịa hào Quảng Ngãi, Tại GK 118 - BT - 1X, TOC thay đổi từ 0,2 đến 2,68% (giá trị TOCtb= 0,78%) độ giàu VCHC và tiềm năng sinh HC nghèo đến trung bình. Hầu hết mẫu GK này đang cuối pha tạo dầu chính vì thế giá trị HI khá thấp (<200mgHC/gTOC) nên cũng chưa thể đánh giá mẹ ở đây có khả năng sinh khí là chính (Hình 5.81).\nĐá mẹ Miocen dưới \nKết quả phân tích các chỉ tiêu địa hóa mẫu trầm tích hạt mịn tuổi Miocen dưới cho thấy chất lượng đá mẹ tương đối nghèo (%TOC<1.0%:) chứa kerogen loại III (Hình 5.82). \nĐối với trầm tích Mioxen giữa, mẫu sét kết rất nghèo VCHC, tiềm năng sinh HC thấp, hiện chưa đạt đủ độ trưởng thành trở thành đá mẹ hoặc một phần chỉ mới bắt đầu chạm ngưỡng trưởng thành (Hình 5.83).",
    "5.8.2	Đặc điểm hệ thống dầu khí\n5.8.2.1.	Đặc điểm đá mẹ\nKhu vực nghiên cứu chưa có giếng khoan tìm kiếm thăm dò do vậy chưa có số liệu cụ thể để đánh giá chất lượng đá mẹ. Tuy nhiên dựa vào đặc điểm địa chất và môi trường trầm tích cũng như số liệu từ các giếng khoan lân cận bể Quindongnan có thể thấy khu vực nghiên cứu có thể tồn tại tập đá mẹ Oligocen và Miocen dưới chất lượng tốt.",
]

FILE_PATH = "data"
PROMPT = """\
Context information is below.
---------------------
{context_str}
---------------------
Given the context information and not prior knowledge.
generate 03 questions which can be answered by the context information.
The questions are always in Vietnamese.
The given questions should be returned in a dict format. 
Example:
{{"q1": "Câu hỏi thứ nhất?","q2": "Câu hỏi thứ hai?","q3": "Câu hỏi thứ ba về 'Sông Hồng'?"}}
"""

dataset = {}
for i, txt in enumerate(EVAL_TEXTS):
    #Create sub-dictionary
    sub_dataset = {}
    #Save context
    sub_dataset['context'] = txt
    #Create question
    results = create_question(PROMPT.format(context_str=txt))
    #Convert to json
    question_dict = results.replace("'", "\"")
    #Convert to dictionary
    question_dict = json.loads(question_dict)
    #Save to dataset
    sub_dataset['questions'] = question_dict
    #Save to main dataset
    dataset[f"doc_{i}"] = sub_dataset

# Save dataset to json file using utf-8 encoding
with open(f'{FILE_PATH}/dataset_utf8.json', 'w', encoding='utf-8') as f:
    json.dump(dataset, f, ensure_ascii=False, indent=4)
# Save dataset to json file
with open(f'{FILE_PATH}data/dataset.json', 'w') as f:
    json.dump(dataset, f)
